<!DOCTYPE html>
<meta charset="UTF-8">
<html>

<head>
    <style type="text/css">
        @font-face {
            font-family: gotham;
            src: url(/gotham-book-regular.otf);
        }

        body {
            background-color: #f2f0eb;
        }

        * {
            font-family: Helvetica Neue;
        }

        a:link,
        a:visited {
            color: #5e3f99;
        }

        img {
            max-width: 40%;
            height: auto;
        }

        input[type=text]:focus {
            border-color: #f68826;
            box-shadow: 0 0 5px #f68826 !important;
        }

        input[type=email]:focus {
            border-color: #f68826;
            box-shadow: 0 0 5px #f68826 !important;
        }
        .sv-root-modern .sv-container-modern {
            color: white !important;
            fill: white !important;
        }
        .sv-radio__svg {
            border-color: white !important;
        }

        .sv-root-modern .sv-radio--checked .sv-radio__svg  {
            fill: white !important;
        }

        .sv-root-modern input.sv-text, textarea.sv-comment, select.sv-dropdown{
            color: white !important;
        }
    </style>
    <title>PANAS-X Survey</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>

    <!-- Latest compiled and minified CSS -->
    <!-- Using Bootsawtch theme: https://bootswatch.com/cyborg/ -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">


    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    <link href="https://unpkg.com/survey-knockout@1.8.41/modern.css" type="text/css" rel="stylesheet"/>
    <script src="https://unpkg.com/jquery"></script>
    <script src="https://unpkg.com/survey-jquery@1.8.41/survey.jquery.min.js"></script>

    <script type="text/javascript" src='/js/StimToolLib.js'></script>
</head>

<body>
    <div class="container" style="max-width: 400px;">
        <div class="py-5 text-center">
            <img class="d-block mx-auto mb-4" src="/images/logo_reversed.jpg" alt="" width="180" height="50">
            <h4>PANAS-X Survey</h4>
          </div>
    </div>

    <div class="container" style="font-size: 19px; color: white; margin-top: 5px; max-width: 400px;">
        <p>How do you feel in <u>general</u>?</p>
        <p>Take your time and please respond as honestly as possible.</p>
    </div>

    <div class="container" style="max-width: 400px;">
        <div class="row" >
            <div id="surveyElement"></div>
            <div id="surveyResult"></div>
        </div>
    </div>
    <div class="jumbotron container" style="margin-bottom:0; max-width: 400px;">
        <table class="table table-hover">
            <tbody>
                <tr>
                  <th scope="row">ID:</th>
                  <td><a id="participant"></a></td>
                </tr>
                <tr>
                    <th scope="row">Session:</th>
                    <td><a id="session"></a></td>
                  </tr>
                  <tr>
                    <th scope="row">Study:</th>
                    <td><a id="study"></a></td>
                  </tr>
              </tbody>
        </table>
        <p style="text-align: center;">&copy; 2021 <a href="http://www.laureateinstitute.org">laureateinstitute.org</a>. All rights reserved.</p>
    </div>


    <script type="text/javascript">
        Survey
            .StylesManager
            .applyTheme("modern");

        var json = {
            pages: [{
                name: "page1",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_cheerful",
                    title: "cheerful",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page2",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_disgusted",
                    title: "disgusted",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page3",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_attentive",
                    title: "attentive",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page4",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_bashful",
                    title: "bashful",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page5",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_sluggish",
                    title: "sluggish",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page6",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_daring",
                    title: "daring",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page7",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_surprised",
                    title: "surprised",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page8",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_strong",
                    title: "strong",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page9",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_scornful",
                    title: "scornful",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page10",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_relaxed",
                    title: "relaxed",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page11",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_irritable",
                    title: "irritable",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page12",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_delighted",
                    title: "delighted",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page13",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_inspired",
                    title: "inspired",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page14",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_fearless",
                    title: "fearless",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page15",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_disgustedself",
                    title: "disgusted with self",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page16",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_anxious",
                    title: "anxious",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page17",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_sad",
                    title: "sad",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page18",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_calm",
                    title: "calm",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page19",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_afraid",
                    title: "afraid",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page20",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_tired",
                    title: "tired",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page21",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_amazed",
                    title: "amazed",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page22",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_shaky",
                    title: "shaky",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page23",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_happy",
                    title: "happy",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page24",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_timid",
                    title: "timid",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page25",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_alone",
                    title: "alone",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page26",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_alert",
                    title: "alert",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page27",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_upset",
                    title: "upset",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page28",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_angry",
                    title: "angry",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page29",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_bold",
                    title: "bold",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page30",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_blue",
                    title: "blue",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page31",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_shy",
                    title: "shy",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page32",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_hungry",
                    title: "hungry",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page33",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_active",
                    title: "active",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page34",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_guilty",
                    title: "guilty",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page35",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_joyful",
                    title: "joyful",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page36",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_nervous",
                    title: "nervous",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page37",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_lonely",
                    title: "lonely",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page38",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_sleepy",
                    title: "sleepy",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page39",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_excited",
                    title: "excited",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page40",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_hostile",
                    title: "hostile",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page41",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_proud",
                    title: "proud",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page42",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_jittery",
                    title: "jittery",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page43",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_lively",
                    title: "lively",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page44",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_ashamed",
                    title: "ashamed",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page45",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_atease",
                    title: "at ease",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page46",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_scared",
                    title: "scared",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page47",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_drowsy",
                    title: "drowsy",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page48",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_worried",
                    title: "worried",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page49",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_angryself",
                    title: "angry at self",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page50",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_enthusiastic",
                    title: "enthusiastic",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page51",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_downhearted",
                    title: "downhearted",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page52",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_sheepish",
                    title: "sheepish",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page53",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_distressed",
                    title: "distressed",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page54",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_blameworthy",
                    title: "blameworthy",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page55",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_determined",
                    title: "determined",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page56",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_frightened",
                    title: "frightened",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page57",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_astonished",
                    title: "astonished",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page58",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_interested",
                    title: "interested",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page59",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_loathing",
                    title: "loathing",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page60",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_confident",
                    title: "confident",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page61",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_energetic",
                    title: "energetic",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page62",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_concentrating",
                    title: "concentrating",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page63",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_dissatisfiedself",
                    title: "dissatisfied with self",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            }, {
                name: "page64",
                elements: [{
                    type: "radiogroup",
                    name: "panasx_depressed",
                    title: "depressed",
                    isRequired: true,
                    choices: [{
                        value: "1",
                        text: "Very slightly or not at all"
                    }, {
                        value: "2",
                        text: "A little"
                    }, {
                        value: "3",
                        text: "Moderately"
                    }, {
                        value: "4",
                        text: "Quite a bit"
                    }, {
                        value: "5",
                        text: "Extremely"
                    }]
                }]
            },]
        }

        window.survey = new Survey.Model(json);



        lastpage = survey.currentPage;

        function timerLoop(elapsed) {
            var page = survey.currentPage; // page variable is the currentPage on the survey
            if (!page) return;
            if (lastpage != page) {
                // set new start date
                start = new Date().getTime(); // sets new start Date object when page has changed.
                lastpage = page // sets the last page to currente page 

            }
            var valueName = "TRQ" + survey.pages.indexOf(page);

            var ms = survey.getValue(valueName); // gets the value of the valuename. e.g: TRQ1

            if (ms == null) ms = 0;
            else ms = elapsed;
            survey.setValue(valueName, ms);
            $('#timeEl').text(elapsed + ' ms');
        }

        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split('&');
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split('=');
                if (decodeURIComponent(pair[0]) == variable) {
                    return decodeURIComponent(pair[1]);
                }
            }
            return 'NULL'
        }

        survey.showProgressBar = "bottom";

        survey.goNextPageAutomatic = false;
        survey.showNavigationButtons = true;
        survey.showCompletedPage = false;

        // Get Query Variables
        var surveyname = getQueryVariable('survey');

        var expInfo = { 'participant': '' ,'session': '',  'task': surveyname, 'date' : formatDate(), 'study': '', 'id': getQueryVariable('id')};

        // Get info Promize
        const getInfoPromise = new Promise((resolve, reject) => {
            $.ajax({
                type: "POST",
                url: '/getInfo',
                data: { 'id': expInfo.id },
                dataType: 'JSON',
                success: function (data) {
                    resolve(data)
                }
            })
        })
            // Read getINFO 
            .then((values) => {
                console.log(values)
                if (values.subject && values.session && values.study) {
                    expInfo.participant = values.subject
                    expInfo.study = values.study
                    expInfo.session = values.session
                    expInfo.run_id = getQueryVariable('run')
                }

                survey.onComplete.add(function (result) {
                    //result.preventDefault();
                    postSurveyData(result.data, expInfo.session, expInfo.participant);
                    
                });

                $("#surveyElement").Survey({model: survey});
    
                $("#participant").text(expInfo.participant);
                $("#session").text(expInfo.session);
                $("#study").text(expInfo.study);

            })

        function postSurveyData(data, session, mkturkid, surveyname) {
            $.ajax({
                type: "POST",
                url: '/save',
                data: {
                    "trials_data": data,
                    "expInfo": expInfo
                },
                dataType: 'JSON',
                statusCode: {
                    200: function() {
                        console.log('sucess saved on backend')
                        window.location.replace('/link?id=' + expInfo.id + '&index=' + (parseInt(getQueryVariable('index')) + 1))
                    }
                }
            })
        }


        var start = new Date().getTime(),
            elapsed = '0.0';

        // executes timerCallback every 100 ms
        timerID = window.setInterval(function () {

            var time = new Date().getTime() - start;
            elapsed = Math.floor(time);

            //alert(elapsed);
            //$('#timeEl').text(elapsed + ' ms');

            //displayTime(1);
            timerLoop(elapsed);

        }, 5);
    </script>

</body>

</html>