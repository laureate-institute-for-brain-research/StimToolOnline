<!DOCTYPE html>
<html lang="en">

<head>
    <style type="text/css">
        @font-face {
            font-family: gotham;
            src: url(/gotham-book-regular.otf);
        }

        * {
            font-family: Helvetica Neue;
        }

        a:link,
        a:visited {
            color: #5e3f99;
        }

        input[type=text]:focus {
            border-color: #f68826;
            box-shadow: 0 0 5px #f68826 !important;
        }

        input[type=email]:focus {
            border-color: #f68826;
            box-shadow: 0 0 5px #f68826 !important;
        }

        span {
            color: white !important;
            fill: white !important;
        }

        .sv-root-modern .sv-container-modern {
            color: white !important;
            fill: white !important;
        }
        .sv-radio__svg {
            border-color: white !important;
        }

        .sv-root-modern .sv-radio--checked .sv-radio__svg  {
            fill: white !important;
        }

        .sv-root-modern input.sv-text, textarea.sv-comment, select.sv-dropdown{
            color: white !important;
        }
        
    </style>
    <title>Post Task Questions</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>

    <!-- Latest compiled and minified CSS -->
    <!-- Using Bootsawtch theme: https://bootswatch.com/cyborg/ -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">


    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    <link href="https://unpkg.com/survey-knockout@1.8.41/modern.css" type="text/css" rel="stylesheet"/>
    <script src="https://unpkg.com/jquery"></script>
    <script src="https://unpkg.com/survey-jquery@1.8.41/survey.jquery.min.js"></script>

    <script type="text/javascript" src='/js/StimToolLib.js'></script>

</head>

<body>

    <div class="container" style="max-width: 800px;">
        <div class="py-5 text-center">
            <img class="d-block mx-auto mb-4" src="/images/logo_reversed.jpg" alt="" width="180" height="50">
            <!-- <h4>Cultural Survey</h4> -->
          </div>
    </div>

    <div class="container" style="max-width: 800px;">
        <div class="row" >
            <div id="surveyElement" style="max-width: 800px; width: 770px; margin-bottom:40px"></div>
            
            <div id="surveyResult"></div>
        </div>
    </div>

    <div class="jumbotron container" style="margin-bottom:0;max-width: 400px;">
        <table class="table table-hover">
            <tbody>
                <tr>
                  <th scope="row">ID:</th>
                  <td><a id="participant"></a></td>
                </tr>
                <tr>
                    <th scope="row">Session:</th>
                    <td><a id="session"></a></td>
                  </tr>
                  <tr>
                    <th scope="row">Study:</th>
                    <td><a id="study"></a></td>
                  </tr>
              </tbody>
        </table>
        <p style="text-align: center;">&copy; 2021 <a href="http://www.laureateinstitute.org">laureateinstitute.org</a>. All rights reserved.</p>
    </div>

    <script type="text/javascript">

        Survey
            .StylesManager
            .applyTheme("modern");
        // Survey.Survey.cssType = "bootstrap";
        // Survey.defaultBootstrapCss.navigationButton = "btn";
        var json = {
             "title": "Big Five Inventory",
             "description": "Here are a number of characteristics that may or may not apply to you. For example, do you agree that you are someone who likes to spend time with others? For each statement, please select the response indicating the extent to which you agree or disagree with that statement.",
             "logoPosition": "right",
             "pages": [
              {
               "name": "page1",
               "elements": [
                {
                 "type": "radiogroup",
                 "name": "question1",
                 "title": "Is talkative",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question2",
                 "title": "Tends to find fault with others",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question3",
                 "title": "Does a thorough job",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question4",
                 "title": "Is depressed, blue",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question5",
                 "title": "Is original, comes up with new ideas",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question6",
                 "title": "Is reserved",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question7",
                 "title": "Is helpful and unselfish with others",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question8",
                 "title": "Can be somewhat careless",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question9",
                 "title": "Is relaxed, handles stress well",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question10",
                 "title": "Is curious about many different things",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question11",
                 "title": "Is full of energy",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question12",
                 "title": "Starts quarrels with others",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question13",
                 "title": "Is a reliable worker",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question14",
                 "title": "Can be tense",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question15",
                 "title": "Is ingenious, a deep thinker",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question16",
                 "title": "Generates a lot of enthusiasm",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question17",
                 "title": "Has a forgiving nature",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question18",
                 "title": "Tends to be disorganized",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question19",
                 "title": "Worries a lot",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question20",
                 "title": "Has an active imagination",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question21",
                 "title": "Tends to be quiet",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question22",
                 "title": "Is generally trusting",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question23",
                 "title": "Tends to be lazy",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question24",
                 "title": "Is emotionally stable, not easily upset",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question25",
                 "title": "Is inventive",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question26",
                 "title": "Has an assertive personality",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question27",
                 "title": "Can be cold and aloof",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question28",
                 "title": "Perseveres until the task is finished",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question29",
                 "title": "Can be moody",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question30",
                 "title": "Values artistic, aesthetic experiences",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question31",
                 "title": "Is sometimes shy, inhibited",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question32",
                 "title": "Is considerate and kind to almost everyone",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question33",
                 "title": "Does things efficiently",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question34",
                 "title": "Remains calm in tense situations",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question35",
                 "title": "Prefers work that is routine",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question36",
                 "title": "Is outgoing, sociable",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question37",
                 "title": "Is sometimes rude to others",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question38",
                 "title": "Makes plans and follows through with them",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question39",
                 "title": "Gets nervous easily",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question40",
                 "title": "Likes to reflect, play with ideas",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question41",
                 "title": "Has few artistic interests",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question42",
                 "title": "Likes to cooperate with others",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question43",
                 "title": "Is easily distracted",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question44",
                 "title": "Is sophisticated in art, music, or literature",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "1",
                   "text": "1 - Disagree strongly"
                  },
                  {
                   "value": "2",
                   "text": "2 - Disagree a little"
                  },
                  {
                   "value": "3",
                   "text": "3 - Neither agree not disagree"
                  },
                  {
                   "value": "4",
                   "text": "4 - Agree a little"
                  },
                  {
                   "value": "5",
                   "text": "5 - Agree strongly"
                  }
                 ]
                }
               ],
               "description": "Please indicate your agreement or disagreement with each of the following statements using the scale below."
              }
             ]
            }

        window.survey = new Survey.Model(json);


        // Recor the response time or how long they spent on a page
        lastpage = survey.currentPage;
        function timerLoop(elapsed) {
            var page = survey.currentPage; // page variable is the currentPage on the survey
            if (!page) return;
            if (lastpage != page) {
                // set new start date
                start = new Date().getTime(); // sets new start Date object when page has changed.
                lastpage = page // sets the last page to currente page 

            }
            var valueName = "TRQ" + survey.pages.indexOf(page);

            var ms = survey.getValue(valueName); // gets the value of the valuename. e.g: TRQ1

            if (ms == null) ms = 0;
            else ms = elapsed;
            survey.setValue(valueName, ms);
            $('#timeEl').text(elapsed + ' ms');
        }


        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split('&');
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split('=');
                if (decodeURIComponent(pair[0]) == variable) {
                    return decodeURIComponent(pair[1]);
                }
            }
            return 'NULL'
        }

        survey.showProgressBar = "bottom";

        survey.goNextPageAutomatic = false
        survey.showNavigationButtons = true;
        survey.showCompletedPage = false;

        // Get Query Variables
        var surveyname = getQueryVariable('survey');

        var expInfo = { 'participant': '' ,'session': '',  'task': surveyname, 'date' : formatDate(), 'study': '', 'id': getQueryVariable('id') };

        // Get info Promize
        const getInfoPromise = new Promise((resolve, reject) => {
            $.ajax({
                type: "POST",
                url: '/getInfo',
                data: { 'id': expInfo.id },
                dataType: 'JSON',
                success: function (data) {
                    resolve(data)
                }
            })
        })
            // Read getINFO 
            .then((values) => {
                console.log(values)
                if (values.subject && values.session && values.study) {
                    expInfo.participant = values.subject
                    expInfo.study = values.study
                    expInfo.session = values.session
                    expInfo.run_id = getQueryVariable('run')
                }

                survey.onComplete.add(function (result) {
                    //result.preventDefault();
                    postSurveyData(result.data, expInfo.session, expInfo.participant);
                });

                $("#surveyElement").Survey({model: survey});
    
                $("#participant").text(expInfo.participant);
                $("#session").text(expInfo.session);
                $("#study").text(expInfo.study);

            })

        function postSurveyData(data, session, mkturkid) {
            console.log('/link?id=' + expInfo.id  + '&index=' + (parseInt(getQueryVariable('index')) + 1))
            $.ajax({
                type: "POST",
                url: '/save',
                data: {
                    "trials_data": data,
                    "expInfo": expInfo
                },
                dataType: 'JSON',
                statusCode: {
                    200: function() {
                        console.log('sucess saved on backend')
                        console.log('/link?id=' + expInfo.id  + '&index=' + (parseInt(getQueryVariable('index')) + 1))
                        window.location.replace('/link?id=' + expInfo.id  + '&index=' + (parseInt(getQueryVariable('index')) + 1))
                    }
                }
            }) 
                
        }

        var start = new Date().getTime(),
            elapsed = '0.0';

        // executes timerCallback every 100 ms
        timerID = window.setInterval(function () {

            var time = new Date().getTime() - start;
            elapsed = Math.floor(time);

            //alert(elapsed);
            //$('#timeEl').text(elapsed + ' ms');

            //displayTime(1);
            timerLoop(elapsed);

        }, 5);
    </script>

</body>

</html>
