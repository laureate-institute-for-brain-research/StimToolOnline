<!DOCTYPE html>
<html lang="en">

<head>
    <style type="text/css">
        @font-face {
            font-family: gotham;
            src: url(/gotham-book-regular.otf);
        }

        * {
            font-family: Helvetica Neue;
        }

        a:link,
        a:visited {
            color: #5e3f99;
        }

        input[type=text]:focus {
            border-color: #f68826;
            box-shadow: 0 0 5px #f68826 !important;
        }

        input[type=email]:focus {
            border-color: #f68826;
            box-shadow: 0 0 5px #f68826 !important;
        }

        span {
            color: white !important;
            fill: white !important;
        }

        .sv-root-modern .sv-container-modern {
            color: white !important;
            fill: white !important;
        }
        .sv-radio__svg {
            border-color: white !important;
        }

        .sv-root-modern .sv-radio--checked .sv-radio__svg  {
            fill: white !important;
        }

        .sv-root-modern input.sv-text, textarea.sv-comment, select.sv-dropdown{
            color: white !important;
        }
        
    </style>
    <title>Surveys</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>

    <!-- Latest compiled and minified CSS -->
    <!-- Using Bootsawtch theme: https://bootswatch.com/cyborg/ -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">


    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    <link href="https://unpkg.com/survey-knockout@1.8.41/modern.css" type="text/css" rel="stylesheet"/>
    <script src="https://unpkg.com/jquery"></script>
    <script src="https://unpkg.com/survey-jquery@1.8.41/survey.jquery.min.js"></script>

    <script type="text/javascript" src='/js/StimToolLib.js'></script>

</head>

<body>

    <div class="container" style="max-width: 800px;">
        <div class="py-5 text-center">
            <img class="d-block mx-auto mb-4" src="/images/logo_reversed.jpg" alt="" width="180" height="50">
            <!-- <h4>Cultural Survey</h4> -->
          </div>
    </div>

    <div class="container" style="max-width: 800px;">
        <div class="row" >
            <div id="surveyElement" style="max-width: 800px; width: 770px; margin-bottom:40px"></div>
            
            <div id="surveyResult"></div>
        </div>
    </div>

    <div class="jumbotron container" style="margin-bottom:0;max-width: 400px;">
        <table class="table table-hover">
            <tbody>
                <tr>
                  <th scope="row">ID:</th>
                  <td><a id="participant"></a></td>
                </tr>
                <tr>
                    <th scope="row">Session:</th>
                    <td><a id="session"></a></td>
                  </tr>
                  <tr>
                    <th scope="row">Study:</th>
                    <td><a id="study"></a></td>
                  </tr>
              </tbody>
        </table>
        <p style="text-align: center;">&copy; 2021 <a href="http://www.laureateinstitute.org">laureateinstitute.org</a>. All rights reserved.</p>
    </div>

    <script type="text/javascript">

        Survey
            .StylesManager
            .applyTheme("modern");
        // Survey.Survey.cssType = "bootstrap";
        // Survey.defaultBootstrapCss.navigationButton = "btn";
        var json = {
             "title": "Five Factor Obsessive-Compulsive Inventory - Short Form",
             "description": "Please read each item carefully and provide your answer that best corresponds to your agreement or disagreement. There are no right or wrong answers. Describe yourself honestly and state your opinions as accurately as possible.",
             "logoPosition": "right",
             "pages": [
              {
               "name": "page1",
               "elements": [
                {
                 "type": "radiogroup",
                 "name": "question1",
                 "title": "I often worry about the future.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question2",
                 "title": "I am a warm and engaging person.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question3",
                 "title": "I love the excitement of making risky decisions.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question4",
                 "title": "I am not a person who is into how people feel about things.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question5",
                 "title": "My life is on such a schedule that others do find me a bit dull sometimes.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question6",
                 "title": "I live my life by a set of tough, unyielding moral principles.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question7",
                 "title": "I take great pride in the quality of my work.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question8",
                 "title": "I need to consider every little detail.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question9",
                 "title": "I firmly believe that you should always play strictly by the rules.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question10",
                 "title": "I get so caught up in my work that I lose time for other things.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question11",
                 "title": "I'm fanatical about getting things done when they need to be.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question12",
                 "title": "No decision is too small for me not to think through all the consequences.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question13",
                 "title": "I ruminate and worry over lots of different things.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question14",
                 "title": "I enjoy getting to know people on a personal level.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question15",
                 "title": "I much prefer playing it safe, even if I miss out on something.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question16",
                 "title": "I find it difficult to feel what other people are feeling.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question17",
                 "title": "I like to keep to the \"tried and true\" rather than try new things.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question18",
                 "title": "There is never an excuse for deviating from a moral code.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question19",
                 "title": "I'm something of a perfectionist.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question20",
                 "title": "Other people have said that I'm extremely detail oriented, almost to a fault.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question21",
                 "title": "Following the rules is always important, even if I'm playing a game by myself.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question22",
                 "title": "I am known as something of a \"workaholic\".",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question23",
                 "title": "If I start something I work until it is complete.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question24",
                 "title": "I examine every detail of an issue before coming to a decision.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question25",
                 "title": "I am a worrier.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question26",
                 "title": "I must admit that I am not a particularly warm person.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question27",
                 "title": "I believe that safe and predictable beats exciting and dangerous every time.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question28",
                 "title": "Strong emotions are not that important in my life.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question29",
                 "title": "My life is pretty much the same every week, and that's how I like it.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question30",
                 "title": "Permissiveness is essentially a break down in morality.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question31",
                 "title": "I take great pride in being effecient and effective.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question32",
                 "title": "I probably spend more time than is needed organizing and ordering things.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question33",
                 "title": "People often suggest I take my responsibilities too seriously.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question34",
                 "title": "I don't regret working real hard because, for me, work is my pleasure.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question35",
                 "title": "I have an extremely strong sense of self-discipline.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question36",
                 "title": "I like to be really sure about things before I act.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question37",
                 "title": "I am often concerned, even nervous, about things going wrong.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question38",
                 "title": "Warmth and intimacy are not my strengths.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question39",
                 "title": "My way of life might be dull to others, but at least it is safe and secure.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question40",
                 "title": "I don't experience a particularly wide range of emotions or feelings.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question41",
                 "title": "I much prefer predictability than exploring the unknown.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question42",
                 "title": "I don't believe in excuses for violating an ethical, moral code.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question43",
                 "title": "I like my work to be flawless and unblemished.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question44",
                 "title": "I always make sure that my work is very well planned and organized.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question45",
                 "title": "Some persons suggest I can be excessive in my emphasis on being proper and moral.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question46",
                 "title": "While others are playing, I'm getting ahead.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question47",
                 "title": "I am to the maximum dogged, determined, and disciplined.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                },
                {
                 "type": "radiogroup",
                 "name": "question48",
                 "title": "I think things over and over and over before I make a decision.",
                 "isRequired": true,
                 "choices": [
                  {
                   "value": "Item 1",
                   "text": "Strongly disagree"
                  },
                  {
                   "value": "Item 2",
                   "text": "Disagree"
                  },
                  {
                   "value": "Item 3",
                   "text": "Neutral"
                  },
                  {
                   "value": "Item 4",
                   "text": "Agree"
                  },
                  {
                   "value": "Item 5",
                   "text": "Strongly Agree"
                  }
                 ]
                }
               ]
              }
             ]
            }

        window.survey = new Survey.Model(json);


        // Recor the response time or how long they spent on a page
        lastpage = survey.currentPage;
        function timerLoop(elapsed) {
            var page = survey.currentPage; // page variable is the currentPage on the survey
            if (!page) return;
            if (lastpage != page) {
                // set new start date
                start = new Date().getTime(); // sets new start Date object when page has changed.
                lastpage = page // sets the last page to currente page 

            }
            var valueName = "TRQ" + survey.pages.indexOf(page);

            var ms = survey.getValue(valueName); // gets the value of the valuename. e.g: TRQ1

            if (ms == null) ms = 0;
            else ms = elapsed;
            survey.setValue(valueName, ms);
            $('#timeEl').text(elapsed + ' ms');
        }


        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split('&');
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split('=');
                if (decodeURIComponent(pair[0]) == variable) {
                    return decodeURIComponent(pair[1]);
                }
            }
            return 'NULL'
        }

        survey.showProgressBar = "bottom";

        survey.goNextPageAutomatic = false
        survey.showNavigationButtons = true;
        survey.showCompletedPage = false;

        // Get Query Variables
        var surveyname = getQueryVariable('survey');

        var expInfo = { 'participant': '' ,'session': '',  'task': surveyname, 'date' : formatDate(), 'study': '', 'id': getQueryVariable('id') };

        // Get info Promize
        const getInfoPromise = new Promise((resolve, reject) => {
            $.ajax({
                type: "POST",
                url: '/getInfo',
                data: { 'id': expInfo.id },
                dataType: 'JSON',
                success: function (data) {
                    resolve(data)
                }
            })
        })
            // Read getINFO 
            .then((values) => {
                console.log(values)
                if (values.subject && values.session && values.study) {
                    expInfo.participant = values.subject
                    expInfo.study = values.study
                    expInfo.session = values.session
                    expInfo.run_id = getQueryVariable('run')
                }

                survey.onComplete.add(function (result) {
                    //result.preventDefault();
                    postSurveyData(result.data, expInfo.session, expInfo.participant);
                });

                $("#surveyElement").Survey({model: survey});
    
                $("#participant").text(expInfo.participant);
                $("#session").text(expInfo.session);
                $("#study").text(expInfo.study);

            })

        function postSurveyData(data, session, mkturkid) {
            console.log('/link?id=' + expInfo.id  + '&index=' + (parseInt(getQueryVariable('index')) + 1))
            $.ajax({
                type: "POST",
                url: '/save',
                data: {
                    "trials_data": data,
                    "expInfo": expInfo
                },
                dataType: 'JSON',
                statusCode: {
                    200: function() {
                        console.log('sucess saved on backend')
                        console.log('/link?id=' + expInfo.id  + '&index=' + (parseInt(getQueryVariable('index')) + 1))
                        window.location.replace('/link?id=' + expInfo.id  + '&index=' + (parseInt(getQueryVariable('index')) + 1))
                    }
                }
            }) 
                
        }

        var start = new Date().getTime(),
            elapsed = '0.0';

        // executes timerCallback every 100 ms
        timerID = window.setInterval(function () {

            var time = new Date().getTime() - start;
            elapsed = Math.floor(time);

            //alert(elapsed);
            //$('#timeEl').text(elapsed + ' ms');

            //displayTime(1);
            timerLoop(elapsed);

        }, 5);
    </script>

</body>

</html>
